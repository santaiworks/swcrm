# Python Backend Setup

## Prerequisites
- Python 3.8+
- PostgreSQL
  - Database: `swcrm`
  - User: `postgres`
  - Password: `postgres`
  - Host: `localhost`
  - Port: `5432`

## Setup
1. Open a terminal in the `santaiworks-crm` directory.
2. Install dependencies:
   ```bash
   pip install -r backend/requirements.txt
   ```
   (Or use `python -m pip install ...` if pip is not in path)

## Running
Run the server from the `backend` directory:
```bash
cd backend
uvicorn main:app --reload
```
OR from the root (`santaiworks-crm`) directory:
```bash
uvicorn backend.main:app --reload
```

The API will be available at `http://localhost:8000`.
The Next.js frontend has been configured to talk to this URL.

## Database Initialization & Maintenance

We provide several scripts for managing the database state:

-   **reset_db.py**: Drops all existing tables and recreates them from models.
-   **seed_all_master.py**: Populates master data tables (Statuses, Industries, Sources, etc.).
-   **seed_dummy_data.py**: Seeds the database with 500+ records of dummy data for realistic testing.

### Recommended Fresh Start Sequence:
```bash
python reset_db.py
python seed_all_master.py
python seed_dummy_data.py
```

## Running the API

Start the server using uvicorn:
```bash
uvicorn main:app --reload
```
The documentation is automatically generated by FastAPI and available at `/docs`.

